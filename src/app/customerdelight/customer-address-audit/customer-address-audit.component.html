<section id="history">
    <button type="button" class="btn btn-raised btn-primary d-flex float-right" style="margin-right: 10px;"
        (click)="onExport()" *ngIf="exportBtnHide == false">Export</button>
    <br />
    <br />
    <div class="d-flex" *ngIf="isHistory">
        <!-- <div class="row"> -->

        <!-- </div> -->

        <!-- <p-table #dt [columns]="EntityHistory.FieldNames" [value]="EntityHistory.AuditHistory" [paginator]="true" [rows]="20"
        dataKey="CustomerId" [scrollable]="true" scrollHeight="50vh" text-align: center>
      
      
        <ng-template pTemplate="header">
          <tr>
            <th style="text-align: center">
              User
            </th>
            <th style="text-align: center">
              Audit Timestamp
            </th>
            <th *ngFor="let col of EntityHistory.FieldNames" style="text-align: center">
              {{col}}
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns" let-expanded="expanded">
          <tr>
            <td style="text-align: center">
              {{rowData.AuditAction}} by {{rowData.UserName}}
            </td>
            <td style="text-align: center">
              {{rowData.AuditDate| date:'medium'}}
            </td>
            <td *ngFor=" let row of rowData.AuditFields"
              [ngStyle]="data.AuditAction != 'Added' && row.NewValue!=row.OldValue && {'color':'red'} || {'color': ''}">
              {{row.NewValue}}
            </td>
          </tr>
        </ng-template>
      </p-table> -->
        <div class="datascroll">
            <table #table>
                <thead>
                    <tr>
                        <th style="text-align: center">
                            User
                        </th>
                        <th style="text-align: center">
                            Audit Timestamp
                        </th>
                        <th *ngFor="let col of EntityHistory.FieldNames" style="text-align: center">
                            {{col}}
                        </th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let data of EntityHistory.AuditHistory">
                        <td style="text-align: center">
                            {{data.AuditAction}} by {{data.UserName}}
                        </td>
                        <td style="text-align: center">
                            {{data.AuditDate| date:'medium'}}
                        </td>
                        <td *ngFor=" let row of data.AuditFields"
                            [ngStyle]="data.AuditAction != 'Added' && row.NewValue!=row.OldValue && {'background-color':'#D32F2F','color':'white'} || {'background-color': 'transparent'}">
                            {{row.NewValue}}
                        </td>
                    </tr>
                </tbody>

            </table>
        </div>


        <!-- <table>
      <thead>
        <tr>
          <th style="text-align: center">
            User
          </th>
          <th style="text-align: center">
            Audit Timestamp
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let rowData of EntityHistory.AuditHistory">
          <td style="text-align: center">
            {{rowData.AuditAction}} by {{rowData.UserName}}
          </td>
          <td style="text-align: center">
            {{rowData.AuditDate| date:'medium'}}
          </td>
        </tr>
      </tbody>
    </table>
    <div class="datascroll">
        <table>
            <thead>
              <tr>
                <th *ngFor="let fieldName of EntityHistory.FieldNames" style="text-align: center">
                  {{fieldName}}
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of EntityHistory.AuditHistory">
                <td *ngFor=" let row of data.AuditFields" [ngStyle]="data.AuditAction != 'Added' && row.NewValue!=row.OldValue && {'color':'red'} || {'color': ''}">
                  {{row.NewValue}}
                </td>
              </tr>
            </tbody>
          </table> -->
    </div>
    <div *ngIf="!isHistory">
        <h4><b>No History Found</b></h4>
    </div>
</section>