<div class="header">
    <h3 class="m-2">RolePagePermission</h3>
</div>
<div class="m-1 d-flex justify-content-between align-items-center">
    <div class="card" style="width: 150rem;">
        <div id="RolePagePermission-table" class="ui-fluid  bg-white rounded">
            <div class="position-relative">
                <div class="row">
                <div class="col-md-6">
                    <div class="form-group m-3">
                        <label for="ware" class="col-md-6">Role:</label>
                        <select id="ware" name="ware" class="form-control col-md-6" [(ngModel)]="roleID"
                            (change)="getRoleChange()">
                            <option *ngFor="let w of roleList" [ngValue]="w.Id">
                                {{ w.Name }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-md-6">
                    <button type="button" class="pad btn btn-raised btn-primary float-right" (click)="saveRole(rolePageList)"
                        [disabled]=!istree>
                        Save
                    </button>
                </div>
            </div>
            <hr/>
                <div class="col-md-6">
                   <div class="card">
                    <div class="pr-dv" *ngFor="let role of  rolePageList; let pindex = index;">
                        <a href="javascript:void(0);" (click)="collapseParent(role)" *ngIf="role.ChildRolePagePermissionDcs && role.ChildRolePagePermissionDcs.length >0">
                            <i *ngIf="!role.IsVisible" class="fa fa-caret-right fa-lg mr-10" aria-hidden="true"></i>
                            <i  *ngIf="role.IsVisible" class="fa fa-caret-down fa-lg mr-10" aria-hidden="true"></i>
                        </a>
                        <p-checkbox  [ngClass]="{'nt-pr': !(role.ChildRolePagePermissionDcs && role.ChildRolePagePermissionDcs.length >0) }" name="pchk{{pindex}}" [label]="role.PageName" [(ngModel)]="role.IsChecked"
                            binary="true"  (click)="onParentPageClick(role)" ></p-checkbox>
                        <div *ngIf="role.IsVisible && role.ChildRolePagePermissionDcs && role.ChildRolePagePermissionDcs.length >0;">
                            <div class="ch-div" *ngFor="let page of  role.ChildRolePagePermissionDcs; let cindex = index;">
                                <p-checkbox (click)="onChildPageClick(role)" name="cchk{{cindex}}" [label]="page.PageName" [(ngModel)]="page.IsChecked"
                                    binary="true"></p-checkbox>
                            </div>
                            <!-- let cindex = index; -->

                        </div>
                       
                    </div>

                    
                           
                

                </div>
             
              
                </div>
                <!-- <div class="form-actions  right col-sm-12 p-3"> -->
                        <!-- <button type="button" class="mr-10 btn btn-raised btn-primary float-right" (click) = "saveRole(rolePageList)" [disabled]= !istree >
                            Save
                          </button>
                             -->
                    <!-- </div>
               -->
            </div>
        </div>
    </div>
</div>